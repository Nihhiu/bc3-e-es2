@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model Loja 

@{
    ViewData["Title"] = "Detalhes da Loja";
    Layout = "_Layout";

    // calcula o offset:
    var latAjustada = Model.Latitude;
    var lngAjustada = Model.Longitude;

    // monta a URL din√¢mica
    var iframeSrc = $@"https://www.google.com/maps/embed?pb=
!1m17!1m12!1m3!1d2978.6251241004293
!2d{lngAjustada.ToString(System.Globalization.CultureInfo.InvariantCulture)}
!3d{latAjustada.ToString(System.Globalization.CultureInfo.InvariantCulture)}
!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2s!5e0!3m2!1spt-PT!2spt!4v1745594584211!5m2!1spt-PT!2spt".Replace("\r",
    "").Replace("\n", "").Replace(" ", "");
}

<div class="container my-5">
    <div class="card shadow-sm border-0">
        <div class="card-body">

            <h2 class="card-title text-primary">@Model.Nome</h2>
            <p class="text-muted mb-4"><strong>ID:</strong> @Model.LojaID</p>

            <div class="ratio ratio-16x9">
                <iframe src="@iframeSrc" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </div>
</div>
